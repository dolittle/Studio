error_log /dev/stdout info;

events {
}

http {
    access_log /dev/stdout;

    proxy_buffer_size          128k;
    proxy_buffers              4 256k;
    proxy_busy_buffers_size    256k;

    server {
        listen       9000;
        server_name  localhost;


        location /apis/apps/v1 {
            proxy_pass http://host.docker.internal:3004;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location /api/v1 {
            proxy_pass http://host.docker.internal:3004;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location /graphql {
            proxy_pass http://host.docker.internal:3001;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location /api/k8s {
            proxy_pass http://host.docker.internal:3004;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location /api/ {
            proxy_pass http://host.docker.internal:3001;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location /_/applications {
            proxy_pass http://host.docker.internal:9002;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location /_/applications/graphql {
            proxy_pass http://host.docker.internal:3002;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location /api/applications {
            proxy_pass http://host.docker.internal:3002;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location /_/events {
            proxy_pass http://host.docker.internal:9003;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location /_/events/graphql {
            proxy_pass http://host.docker.internal:3003;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location /api/events {
            proxy_pass http://host.docker.internal:3003;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location /_/k8s {
            proxy_pass http://host.docker.internal:9004;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location /_/k8s/graphql {
            proxy_pass http://host.docker.internal:3004;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location /_/data {
            proxy_pass http://host.docker.internal:9005;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location /_/data/graphql {
            proxy_pass http://host.docker.internal:3005;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location /api/data {
            proxy_pass http://host.docker.internal:3005;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location /_/businessmomentsadapters {
            proxy_pass http://host.docker.internal:9006;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location /_/businessmomentsadapters/graphql {
            proxy_pass http://host.docker.internal:3006;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location /api/businessmomentsadapters {
            proxy_pass http://host.docker.internal:3006;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }

        location / {
            proxy_pass http://host.docker.internal:9001;
            proxy_set_header Host localhost:9000;
            proxy_set_header X-Forwarded-Proto $scheme;
            proxy_set_header User-ID 2b0edb29-4051-40ea-95d4-2f5a8c2e6b16;
            proxy_set_header Tenant-ID 508c1745-5f2a-4b4c-b7a5-2fbb1484346d;
        }


#        location ~ ^([^.\?]*[^/])$ {
#            try_files                 $uri @addslash;
#        }
#
#        location @addslash {
#            return                    301 $uri/;
#        }
    }
}
