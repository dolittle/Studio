{
    "dolittle": {
        "applicationId": "11b6af47-5d9f-438f-8116-0d9828654657",
        "tenantId": "453e04c7-4f9d-42f2-b36c-d51fa2c83fa3",
        "microserviceId": "55adce7e-0aea-0346-bdfd-8ef06b91a953"
    },
    "name": "Webhook-101",
    "kind": "business-moments-adaptor",
    "environment": "Dev",
    "extra": {
        "headImage": "453e04a74f9d42f2b36cd51fa2c83fa3.azurecr.io/businessmomentsadaptor:latest",
        "runtimeImage": "dolittle/runtime:5.6.0",
        "ingress": {
            "host": "freshteapot-taco.dolittle.cloud",
            "secretNamePrefix": "",
            "path": "/api/webhooks-ingestor",
            "pathType": "Prefix"
        },
        "connector": {
            "config": {
                "config": {
                    "password": "idsoftware",
                    "username": "m3"
                },
                "kind": "basic"
            },
            "kind": "webhook"
        },
        "moments": [
            {
                "entityId": "fake-entity-123",
                "name": "I am name",
                "uuid": "fake-uuid-123",
                "filter": "filter func",
                "transform": "transform func"
            }
        ],
        "entities": [
            {
                "name": "I am name",
                "typeId": "fake-entity-123",
                "idForRetrival": "id",
                "filter": "function filter(event) {\n\treturn event.system === \"M3\";\n}",
                "transform": "function transform(event) {\n\tlet arrayToObj = function(event) {\n\t\treturn event.map(function(x) {\n\t\t\tvar data = {};\n\t\t\tdata[`${Object.values(x)[0]}`] = x.newvalue.trim();\n\t\t\treturn Object.entries(data)[0];\n\t\t});\n\t};\n\n\tconst elements = Object.fromEntries(arrayToObj(event.payload.elements));\n\tlet result = {\n\t\tid: elements.PRNO,\n\t\tpart: event.part,\n\t\toperation: event.payload.operation\n\t};\n\treturn {\n\t\t...result,\n\t\t...elements\n\t};\n}"
            }
        ]
    }
}
